# 40 이벤트
 - 이벤트 핸들러 : 이벤트 발생시 호출될 함수
 - 이벤트 핸들러 등록 : 이벤트가 발생시 브라우저에게 호출을 위임하는것 

 - 버블링: 한요소에 이벤트가 발생되면 요소에 할당된 핸들러 동작-> 부모요소의 핸들로 동작 -> 최상단의 부모요소를 만날때까지 이과정 반복

## 40-3 이벤트 핸들러 등록 

1. 어트리뷰트 방식 : 함수 호출문등의 문을 할당하는 방법 **어트리뷰트의 값은 암묵적으로 생성될 이벤트핸들러의 함수몸체를 의미한다.
   * 이러한 방법은 옛날 방식이니 사용하지 말자 

2. 프로퍼티 방식 : 이벤트핸들러 프로퍼티에 함수를 바인딩 하는 방법 그림 40-2참조
  * 위 방법은 프로퍼티에 하나의 이벤트 핸들러만 바인딩할수 있는 단점있음

3. 메서드 방식 : 
   1. addEventListener매서드에 이벤트핸들러를 인수로 전달
   2. 이러한 방식으은 이벤트핸들러 프로퍼티에 바인딩된 이벤트 핸들러에 아무런 영향을 주지 않는다. 즉 하나 이상의 이벤트를 등록가능
   3. 단 동인한 이벤트 핸들러를 중복등록하면 하나의 이벤트핸들러만 동작 (예제40-12참조)

## 40-4 이벤트 핸들러 제거
  - arguments.callee(호출된 함수를 가리킨다.)는 코드 최적화를 방해하므로 사용하지 말자
  - 기명함수내부에 이벤트를 등록하여 제거한다면 버튼요소를 여러번 클릭해도 이벤트가 초기 한번만 발생한다. 

## 40-5 이벤트 객체
- 생성된 이벤트 객체는 이벤트 핸들러의 첫번째 인수로 전달된다.
- 암묵적으로 생성된 onclick의 경우 첫번째 매개변수의 리름이 event라고 암묵적으로 명명되기 때문에 event가 아닌 다른이름으로는 전달받지 못한다.

* 공통 property의 istrusted의 경우 인위적으로 발생시킨 이벤트의 경우 false로 타입이 정해진다라고 하는데 
마우스 이벤트가 발생하고 특정 li태그에 드래그 시킬경우 상단으로 위치가 변경되는 코드문을 작성했을때에도 true로 나오는 형태로 나와서 어떤식으로 이뤄지는 지 좀더 공부 필요

## 40-6 이벤트 전파

- 이벤트 객체는 이벤트를 발생시킨 DOM요소인 이벤트 타킷을 중심으로 DOM트리를 통해 전파됩니다.
- 이때 버블링단계와 캡쳐링 단계, 타깃의 단계가 설명된다. (781pg 참조)
  1. 캡쳐링: 이벤트가 상위요소에서 하위요소 방향으로 전파 
    - 3번체 인수로 true를 전달해야한다. 생략하거나 false를 전달한다면 타깃단계와 버블링단계에서만 캐치할수 있다.
  2. 타깃 : 바로 도달
  3. 버블링 : 하위요소에서 상위요소로 전파
- 각 핸들러는 아래와 같은 event 객체의 프로퍼티에 접근할 수 있다.
  1. event.target – 이벤트가 발생한 가장 안쪽의 요소
  2. event.currentTarget (=this) – 이벤트를 핸들링 하는 현재 요소 (핸들러가 실제 할당된 요소)
  3. event.eventPhase – 현재 이벤트 흐름 단계(캡처링=1, 타깃=2, 버블링=3)

## 40-8 DOM요소의 기본동작 조작

- prventDefault : 기본동작 중지
- stopPropagation : 전파 중지  
  1. 상위 dom요소의 위임을 받지 않은 자체적인 이벤트의 경우 자신의 이벤트가 전파되는것을 중단하여 자신에게 바인딩된 이벤트만 실행

## 40-9 이벤트 핸들러 내부의 this